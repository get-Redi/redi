# ============================================================================
# Redi - Environment Variables Template
# ============================================================================
# INSTRUCTIONS:
# 1) Copy this file to .env in the root directory:
#    cp .env.example .env
# 2) Fill values
# 3) Do not commit .env
# ============================================================================

# ============================================================================
# Supabase (Backend services only)
# ============================================================================
# Required: Supabase project URL (must start with https://)
SUPABASE_URL=https://xxxxxxxxxxxxx.supabase.co

# Required for backend services: Supabase Service Role key (full DB access)
# WARNING: This bypasses RLS. Keep it secret.
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# ============================================================================
# API URLs (Frontends)
# ============================================================================
# Public API base URL for Next apps (BFF or gateway, if any)
# Local development default:
NEXT_PUBLIC_API_URL=http://localhost:4000

# If you expose a separate public endpoint for merchants/pos, keep them explicit
# NEXT_PUBLIC_MERCHANT_API_URL=http://localhost:4001
# NEXT_PUBLIC_POS_API_URL=http://localhost:4002

# Frontend API base URL consumed by Next apps
# In local dev, point directly to wallet-service (or API gateway if used)
NEXT_PUBLIC_API_URL=http://localhost:4103

# ============================================================================
# App Ports (Local Development)
# ============================================================================
# Next apps
LANDING_PORT=3000
B2C_PORT=3001
MERCHANT_PORT=3002
POS_PORT=3003

# Backend services (adjust to your actual service layout)
INDEXER_PORT=4101
WORKERS_PORT=4102

# Wallet Service (dedicated backend for Crossmint wallet operations)
WALLET_SERVICE_PORT=4103


# ============================================================================
# Stellar Network Configuration (default: TESTNET)
# ============================================================================
# Network passphrase
STELLAR_NETWORK_PASSPHRASE="Test SDF Network ; September 2015"
# MAINNET:
# STELLAR_NETWORK_PASSPHRASE="Public Global Stellar Network ; September 2015"

# Horizon API
STELLAR_HORIZON_URL=https://horizon-testnet.stellar.org
# MAINNET:
# STELLAR_HORIZON_URL=https://horizon.stellar.org

# Soroban RPC
STELLAR_SOROBAN_RPC_URL=https://soroban-testnet.stellar.org
# MAINNET:
# STELLAR_SOROBAN_RPC_URL=https://soroban-rpc.stellar.org

# Read-only source address for Soroban RPC simulations (does not require funding)
SOROBAN_READ_SOURCE_ADDRESS=GXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Operational wallet secret key (signs blockchain transactions)
# Required for workers when they submit signed tx
STELLAR_OPERATIONAL_SECRET_KEY=SXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX


# ============================================================================
# Soroban Smart Contracts (Testnet/Mainnet)
# ============================================================================
# Contract IDs (Soroban addresses start with 'C...')
# Buffer contract
SOROBAN_BUFFER_CONTRACT_ID=CXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Bridge contract
SOROBAN_BRIDGE_CONTRACT_ID=CXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Perks contract
SOROBAN_PERKS_CONTRACT_ID=CXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX


# ============================================================================
# Crossmint Configuration (Wallet Management)
# ============================================================================
# Crossmint Server API Key (backend services only) - MUST start with sk_staging_ or sk_production_
# Get from: https://www.crossmint.io/dashboard/settings → API Keys → Server API Key
# IMPORTANT: ck_staging_* is CLIENT key (frontend only), sk_staging_* is SERVER key (backend)
CROSSMINT_API_KEY=CROSSMINT_API_KEY=sk_staging_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
CROSSMINT_PROJECT_ID=project_id_here     
CROSSMINT_ENVIRONMENT=staging 

# ============================================================================
# Defindex (for yield / vault integration)
# ============================================================================
DEFINDEX_API_URL=https://...
DEFINDEX_API_KEY=...

# DeFindex Integration
# Vault contract address created via DeFindex API (testnet)
# See: https://api.defindex.io/docs
DEFINDEX_VAULT_ADDRESS=CAAYE3PAJEPXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# Backend Operational Wallet
# ============================================================================
# This wallet signs Buffer contract deployments and admin operations
ADMIN_STELLAR_SECRET=S... # Generate with: stellar keys generate admin
ADMIN_STELLAR_ADDRESS=G... # Get with: stellar keys address admin

# ============================================================================
# Asset Configuration
# ============================================================================
# Mainet
#USDC_CONTRACT_ADDRESS=CCW67TSZV3SSS2HXMBQ5JFGCKJNXKZM7UQUWUZPUTHXSTZLEO7SJMI75

# Testnet
USDC_CONTRACT_ADDRESS=CAQCFVLOBK5GIULPNZRGATJJMIZL5BSP7X5YJVMGCPTUEPFM4AVSRCJU

# ============================================================================
# Contract Addresses 
# ============================================================================
BUFFER_CONTRACT_ID=
BRIDGE_CONTRACT_ID=

# ============================================================================
# Observability (Logs, Metrics, Tracing)
# ============================================================================
# Recommended to keep a single service name per process
OTEL_SERVICE_NAME=redi

# Optional: OpenTelemetry exporter endpoint
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# Optional: logging level 
LOG_LEVEL=info

# Optional: correlation ids, toggles
# ENABLE_TRACING=true
# ENABLE_METRICS=true



